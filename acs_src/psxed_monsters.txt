#library "psxed_monsters"
#include "zcommon.acs"

Script "PSXed Placement Option Remove Things" OPEN
{
	if (GetCVar ("psxed_monster_placement"))
		{
			Thing_Remove(1000);
		}
}

Script "PSXed Placement Option Remove PSX Things" OPEN
{
	if (!GetCVar ("psxed_monster_placement"))
		{
			Thing_Remove(2000);
		}
}

Script "PSXed Nightmare Imps Placement" OPEN
{
	if (GetCVar ("psxed_nightmare_imps_placement"))
		{
			SpawnSpotFacingForced("NightmareDoomImp", 1100, 0);
			Thing_Remove(1100);
			
			SpawnSpotFacingForced("NightmareDoomImp", 1101, 1102);
			SetActorProperty(1102, APROP_Ambush, 1);
			Thing_ChangeTID(1102,0);
			Thing_Remove(1101);
		}
}

Script "PSXed Nightmare Spectres Placement" OPEN
{
	if (GetCVar ("psxed_nightmare_spectres_placement"))
		{
			SetActorProperty(1200, APROP_RenderStyle,STYLE_Subtract);
			SetActorProperty(1200, APROP_Alpha, 0.5);
			SetActorProperty(1200, APROP_Health, (GetActorProperty(1200, APROP_Health) * 2));
			Thing_ChangeTID(1200,0);
		}
}

Script "PSXed Nightmare Spectres from PSXed monsters" OPEN
{
	if (GetCVar ("psxed_nightmare_spectres_placement"))
		{
			SetActorProperty(1201, APROP_RenderStyle,STYLE_Subtract);
			SetActorProperty(1201, APROP_Alpha, 0.5);
			SetActorProperty(1201, APROP_Health, (GetActorProperty(1201, APROP_Health) * 2));
			Thing_ChangeTID(1201,0);
		}
}

Script "PSXed Nightmare Spectres from PSXed monsters Remove" OPEN
{
	if (!GetCVar ("psxed_monster_placement"))
		{
			Thing_Remove(1201);
		}
}